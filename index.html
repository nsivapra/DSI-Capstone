<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Refugees Around the World :  Nivetha Sivaprakasam">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Refugees Around the World</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/nsivapra/DSI-Capstone">View on GitHub</a>

          <h1 id="project_title">Refugees Around the World</h1>
          <h2 id="project_tagline"> Nivetha Sivaprakasam</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/nsivapra/DSI-Capstone/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/nsivapra/DSI-Capstone/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h3>
<a id="about-me" class="anchor" href="#about-me" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>About Me</h3>

<p><a href="https://www.linkedin.com/in/nivethasiva">Linkedin</a>, <a href="https://github.com/nsivapra">Github</a></p>

<p>I am a recent college undergraduate from UC Santa Cruz with a passion for Data Visualization and Data Science. My skills include Python, Machine Learning, SQL, Data Visualization (d3, and Tableau), Big Data Software, and Data Analysis. For any questions or contact feel free to leave a message on my LinkedIn account.</p>

<h3>
<a id="introduction" class="anchor" href="#introduction" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Introduction</h3>

<p>The definition of a refugee, according to the 1967 Protocol Relating to the Status of Refugees, is an individual who due to the fear of being persecuted for reasons of race, religion, nationality, membership of a political group, is outside his/her national country. Most likely they cannot return back home or are afraid to do so. People who move in groups to avoid war or civil conflict are often considered as refugees. A refugee isn't an individual who is stateless or denied entrance into a country. Instead the term "internally displaced people" (IDP) is used to define those individuals who may have moved for the same reasons as refugees but have not crossed the border.</p>

<p>Recently Europe had a migration crisis, in which more than a million refugees crossed into Europe, causing a division in the European Union regarding the best way to deal with resettling people. According to the UNHCR, the top three nationalities of the refugees, between January 2015 and March 2016 were Syria, Afghan, and Iraq. In 2015 the demographic of refugees and migrants, were 58% men, 17% women, and 25% children. The number of deaths hit an all time high in April 2015, when five boats carrying 2,000 migrants to Europe sank in the Mediterranean Sea, in which the death toll was estimated at 1,200 people.</p>

<p>The Syrian Conflict has been an ongoing issue in which 250,000 citizens have lost their lives over a war that started with an armed conflict. Similarly, there have been multiple civil wars and protests that have led citizens to find asylum in different countries. After reading into these conflicts, I decided to look into the recent trends in the acceptance of refugees. Previously, there have been issues with refugees being treated poorly, and lack of a safe community. By looking into a country's profile, including the population, murder rate by 1000, poverty, etc. I hope to be able to see the relation between these variables and the refugees in 2015.</p>

<h3>
<a id="dataset" class="anchor" href="#dataset" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Dataset</h3>

<p>The dataset was created by web scrapping data from UNHCR, World Bank and multiple websites. The dataset originally contained information about Refugees in 2010, 2015, Countries, Continent, Murder Rate out of 1000, Children who dropped out of school which is out of 1000, and Government. I later decided to look into the Economic and Geographic aspect of the countries, by including GDP in million of US Dollars, Immigrants, Rainfall in ml, Population Density, Population, Area, Female population distribution, Male population distribution, recent Famine Strike (Binary value), and recent Civil War (Binary value). I believed these variables would be beneficial in showing the trends in the number of refugees, as it includes the geographic, economic, and political aspect of each country.</p>

<h3>
<a id="data-cleaningmunging" class="anchor" href="#data-cleaningmunging" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Cleaning/Munging</h3>

<p>The data cleaning process was the most difficult and time consuming as it took time to scrape and combine the individual lists into multiple dataframes. This step involved scrapping data from UNHCR, World Bank, and charts from Wikipedia. Each data frame had a different cleaning method, but most of the cleaning was modifying the type of the variables and removing extra characters from float types. Couple issues I had were dealing with a Javascript website while scrapping data, and the different spelling of the country's amongst the data frames. In terms of the country's spelling I decided to work off the JSON file since it would be needed to map the visualization. After creating a function to find the difference between two dataframe columns I was able to find the specific countries that needed to be changed. For the Javascript website I used a driver called selenium that converted the text to HTML type. The final cleaning process involved merging the data frames in which I used left join to include all countries, even if they contained NULL values. This dataframe was later used in the folium map visualization, since any missing countries compared to the JSON would cause an error with the visualization. I later took a copy and deleted columns with all NULLs to be used for EDA and modeling. For the additional NULL values I took the mean of each column, except for the civil war and famine in which I inputted 0. The reason why I didn't drop the columns was to prevent any skewed data, create an accurate model, and prevent the loss of useful data, as some of the rows were only missing one or two columns.</p>

<h3>
<a id="eda" class="anchor" href="#eda" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>EDA</h3>

<p><img src="https://rawgit.com/nsivapra/DSI-Capstone/master/Images/HeatMap.png" alt=""></p>

<p>Based on the heatmap we can see the relationship between the numeric data types. The squares closer to dark red have a strong positive relationship, while squares closer to dark blue have a strong negative relationship. </p>

<p><img src="https://rawgit.com/nsivapra/DSI-Capstone/master/Images/Rain-Ref.png" alt=""></p>

<p>The jointplot shows the relationship between Rain and the number of Refugees in 2015.The histogram is a helpful method to see the distribution of the values, mode, min,and max.</p>

<p><img src="https://rawgit.com/nsivapra/DSI-Capstone/master/Images/Imm-Ref.png" alt=""></p>

<p>This jointplot shows the relationship between the Immigrants and Refugees in 2015. Based on the pearson r value there is a slight positive correlation between these variables. The Histograms similarly show the values that most populated.</p>

<p><img src="https://rawgit.com/nsivapra/DSI-Capstone/master/Images/Continent.png" alt=""></p>

<p>The matplotlib shows the number of refugees in 2010, and 2015 grouped by the Continents. Asia took the most refugees in both 2010, and 2015. Oceania took the least number of refugees in 2010; however, North America took the least in 2015.</p>

<p><img src="https://rawgit.com/nsivapra/DSI-Capstone/master/Images/Government.png" alt=""></p>

<p>This groupby shows the trends in number of refugees in 2010, and 2015 by government. Based on the plot we can see a sudden increase in acceptance from Constitutional monarcy, while there is a slight increase in Republic.</p>

<p><img src="https://rawgit.com/nsivapra/DSI-Capstone/master/Images/Line.png" alt=""></p>

<p>Based on the line graph Africa has the most number of Children out of school, while North America has the most 
murders. Overall Europe has the lowest value for both Murder Rate and Children out of school. </p>

<p><img src="https://rawgit.com/nsivapra/DSI-Capstone/master/Images/GDP-Imm.png" alt=""></p>

<p>This bar chart shows the GDP in million of US Dollars, and the number of Immigrants in 2015. North America has the most number of immigrants and highest GDP, while Africa has the least number of immigrants and the lowest GDP. In general the values are correlated positively as the GDP increases the number of immigrants increase.</p>

<p><img src="https://rawgit.com/nsivapra/DSI-Capstone/master/Images/Country.png" alt=""></p>

<p>This plot shows the countries who accepted more than 100000 refugees in 2010 and 2015. </p>

<h3>
<a id="model-description" class="anchor" href="#model-description" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Model Description</h3>

<p>My initial models include a simple Linear and Logistic model trying to find the parameters that created the best model. The Linear Regression model used the number of refugees in 2010, Population of the country, recent famine, Female, male population, and number of immigrants to predict the number of refugees in 2015. I additionally used various cross validation methods, including RidgeCV, ElasticNetCV, and LassoCV to get the best R2. However; the values were worse than the original Linear Model. I included a logistic model to see whether a country's continent can be predicted based on various variables. I later created a target and predictor variable that would predict whether a country had a Civil War in the past 15 years based on the Number of Refugees in 2010, 2015, Murder Rate, children out of primary school, size of the country in miles, and whether the country had a recent famine. The second set of variables is similar to the first except I predicted Famine, and used Civil War instead of Famine as the predictor variable. These variables would later be used in the ROC and PR curve to see how the model predicts compared to the baseline accuracy.
After creating the simple regression models I decided to expand on the models by creating linear models with PCA, and Decision Tree models. The PCA model is helpful in creating an axis around each variable which decreases variation and improves the model's score. The Decision Tree model uses an algorithm model similar to a binary tree that traverses through each node trying to see the best variables that predict the target variable. Using the variables I used in the logistic model to predict the continent, I created a Decision Tree classification model. I also created a Decision Tree Regression model to predict the number of refugees in 2015 using the same variables as the linear model.</p>

<h2>
<a id="linear-regression" class="anchor" href="#linear-regression" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Linear Regression</h2>

<pre><code>value = refugee_df.filter(regex = 'Ref|Pop|Fam|Fem|Mal|Imm')
rem = refugee_df.filter(regex = '2015')
col = value.columns - rem.columns
X_linear = refugee_df[col]
ss = StandardScaler()
Xn = ss.fit_transform(X_linear)
y_linear = refugee_df['Refugees_2015'].values

lm_linear = LinearRegression()
model = lm_linear.fit(X_linear, y_linear)
scores = cross_val_score(lm_linear, X_linear, y_linear, cv=5) #CV to prevent overfitting.
print "R2", np.mean(scores)

R2 0.410719809899
</code></pre>

<h2>
<a id="logistic-regression" class="anchor" href="#logistic-regression" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Logistic Regression</h2>

<pre><code>value = refugee_df.filter(regex = 'Ref|Rate|Child|Are|Fam|Fem|Mal|Continent')
rem = refugee_df.filter(regex = 'Cont')
col = value.columns - rem.columns
X_cont = refugee_df[col]
ss = StandardScaler()
Xn_cont = ss.fit_transform(X_cont)
y_cont = refugee_df['Continent'].values

lr_cont = LogisticRegression()
model = lr_cont.fit(Xn_cont, y_cont)
score = cross_val_score(lr_cont, Xn_cont, y_cont, cv = 5)
print "R2", np.mean(score)

R2 0.594395568589
</code></pre>

<h2>
<a id="rocpr-curves" class="anchor" href="#rocpr-curves" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>ROC/PR Curves</h2>

<p><img src="https://rawgit.com/nsivapra/DSI-Capstone/master/Images/Civil.png" alt=""></p>

<p><img src="https://rawgit.com/nsivapra/DSI-Capstone/master/Images/Famine.png" alt=""></p>

<p><img src="https://rawgit.com/nsivapra/DSI-Capstone/master/Images/Civil_War.png" alt=""></p>

<p><img src="https://rawgit.com/nsivapra/DSI-Capstone/master/Images/Recent_Famine.png" alt=""></p>

<h2>
<a id="pca" class="anchor" href="#pca" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>PCA</h2>

<pre><code>from sklearn.decomposition import PCA

pca = PCA(n_components=6)
pca.fit(X_linear.values)
pcs = pca.transform(X_linear)
pca_linreg = LinearRegression()
pca_scores = cross_val_score(pca_linreg, pcs[:,0:10], y_linear, cv=5)
print np.mean(pca_scores)
R2 0.410719809902
</code></pre>

<h2>
<a id="decision-tree-regressionclassification" class="anchor" href="#decision-tree-regressionclassification" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Decision Tree Regression/Classification</h2>

<p><img src="https://rawgit.com/nsivapra/DSI-Capstone/master/Images/decision_cont.png" alt=""></p>

<p>The cells, each contain the necessary information to decide whether the path is helpful in predicting the target variable. Based on the importance and entropy (impurity) we can say Murder Rate, Refugees_2010 and Children_out_of_school were the factors that provided the lowest entropy. Entropy is a variable that is used to calculate information gain. Another path to a low entropy looks into the Refugees in 2010, Area, and Children out of school.</p>

<p><img src="https://rawgit.com/nsivapra/DSI-Capstone/master/Images/decision_ref.png" alt=""></p>

<p>Similar to the classification tree above, we can use, the importance values, and expected value to determine the best path in predicting the number of refugees. Based on the tree Population, and Refugees 2010 were the factors that reached the highest value node. The lowest value node contains the variable Population, Refugees 2010, and Density.</p>

<h3>
<a id="map-visualization" class="anchor" href="#map-visualization" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Map Visualization</h3>

<p><img src="https://rawgit.com/nsivapra/DSI-Capstone/master/Images/map2010.png" alt="">
<a href="https://cdn.rawgit.com/nsivapra/DSI-Capstone/master/Report/map_2010.html">Map 2010 Visualization</a></p>

<p>By looking into the folium visualization for the differences in refugees we can see that Turkey had the highest increase in their refugees from 2010. Some countries, including Canada and Syria have decreased the number of accepted refugees due to recent conflicts and political protest.</p>

<p><img src="https://rawgit.com/nsivapra/DSI-Capstone/master/Images/map2015.png" alt="">
<a href="https://cdn.rawgit.com/nsivapra/DSI-Capstone/master/Report/map_2015.html">Map 2015 Visualization</a></p>

<p>Above is the map visualization for 2015</p>

<p><img src="https://rawgit.com/nsivapra/DSI-Capstone/master/Images/mapdiff.png" alt="">
<a href="https://cdn.rawgit.com/nsivapra/DSI-Capstone/master/Report/map_diff.html">Map Difference Visualization</a></p>

<p>The visualization above looks into the difference in refugee acceptance in 2010 and 2015.</p>

<h3>
<a id="conclusion" class="anchor" href="#conclusion" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Conclusion</h3>

<p>The linear regression R2 shows there is a moderate amount of variance between the predictor variables and the baseline model. I initially tried modeling with all the variables, but realized by dropping Civil War and Children out of School the R2 improved by 0.05. I tried improving the R2 by using regularization methods, including RidgeCV, LassoCV, and ElasticNetCV. However; these methods didn't improve the models and ended up having a worse score. Looking at the logistic regression R2, we can say the predictor variables in the model were extremely helpful in predicting the Continent.
Based on the country's profile we can say there is an impact on the number of refugees who will find asylum in the country. If there a high number of refugees in 2010, GDP, and number of immigrants there is a higher chance of refugees in 2015. If there is a high number of Rainfall, and Murder Rate there is a chance of a descent in the number of refugees. By reducing racism, and providing a safer environment in other countries, there is a chance more refugees would seek to find asylum.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Refugees Around the World maintained by <a href="https://github.com/nsivapra">nsivapra</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
